include "/etc/named.d/acl";
options {
	dump-file "/var/cache_dump.db";
	statistics-file "/var/named_stats.txt";
	zone-statistics yes;
	recursion no;
	allow-transfer {  209.46.53.153; 209.46.53.155; 10.10.1.6; 10.11.128.1; };
	allow-notify { 24.124.30.1; 24.124.30.2; 209.46.53.153; 10.11.128.1; };
	listen-on { 24.124.30.2; 10.11.12.1; 10.11.12.33; 10.11.128.4; 127.0.0.1; 192.168.69.254; };
	transfers-in 200;
	transfers-out 200;
	transfers-per-ns 100;
};
include "/etc/rndc.key";
logging {
        channel other {
                file "/var/other" versions 5 size 10m;
                severity info;
                print-category yes;
                print-severity yes;
                print-time yes;
        };
        channel my_file {
                file "/var/named" versions 5 size 10m;
                severity info;
                print-category yes;
                print-severity yes;
                print-time yes;
        };
        channel my_queries {
                file "/var/queries" versions 5 size 10m;
                severity info;
                print-category yes;
                print-severity yes;
                print-time yes;
        };
        channel my_lame-servers {
                file "/var/lame-servers" versions 5 size 10m;
                severity info;
                print-category yes;
                print-severity yes;
                print-time yes;
        };
	category "queries" { "debug"; };
	channel "debug" {
		file "/var/queries" versions 5 size 50m;
		print-time yes;
	};
        category "unmatched" { "my_file"; };
        category "default" { "my_file"; };
        category "queries" { "my_queries"; };
		category "dnssec" { "other"; };
		category "config" { "other"; };
		category "database" { "other"; };
};
view "external" {
	match-clients	{ ! 209.46.53.154; ! 209.46.53.152; any; 10.10.2.5; lawrence_public_external; production_public;  };
	match-destinations { 24.124.15.161; 24.124.15.160; 24.124.30.1; 24.124.30.2; 24.124.30.22; 127.0.0.1; };
	recursion yes;
	allow-recursion { 24.124.30.0/25; 127.0.0.1/32;  };
	zone "0/25.30.124.24.in-addr.arpa" IN {
		type master;
		file "master/external/24.124.30.inverse";
		notify yes;
		notify-source 24.124.30.2;
		also-notify { 209.46.53.153; };
		allow-update { none; };
	};
	zone "caltesting.org" {
		type master;
		file "master/external/caltesting.org_external.zone";
		notify yes;
		notify-source 24.124.30.2;
		also-notify { 209.46.53.153; };
		allow-update { none; };
	};
	zone "support.caltesting.org" {
		type master;
		file "master/external/support.caltesting.org_external.zone";
		notify yes;
		notify-source 24.124.30.2;
		also-notify { 209.46.53.153; };
		allow-update { none; };
	};
	zone "caltesting.net" {
		type master;
		file "master/external/caltesting.net_external.zone";
		notify-source 24.124.30.2;
		notify yes;
		also-notify { 209.46.53.153; };
		allow-update { none; };
	};
};
view "internal" {
	match-clients { lawrence_private; 10.10.0.0/16; 10.9.0.0/16; 209.46.53.152; 209.46.53.154; 10.60.12.0/24; 192.168.69.0/24; };
	match-destinations { 10.11.12.1; 10.11.12.33; 10.11.128.4; 24.124.30.2; };
	recursion yes;
	allow-recursion { 10.11.0.0/16; 10.10.0.0/16; 10.9.0.0/16; 10.60.12.0/24; 192.168.69.0/24; };
	#zone "lab.caltesting.org" { type master; file "master/internal/lab.caltesting.org_internal.zone"; notify yes; notify-source 10.11.12.1; also-notify { 10.10.1.11; 10.10.1.6  ; }; allow-transfer { 10.11.128.1; 10.10.1.6; 10.10.1.11;  }; allow-update {none; }; };
	zone "caltesting.org" { type master; file "master/internal/caltesting.org_internal.zone"; notify yes; notify-source 10.11.12.1; also-notify { 10.10.1.11; 10.10.1.6  ; }; allow-transfer { 10.11.128.1; 10.10.1.6; 10.10.1.11;  }; allow-update {none; }; };
	zone "law.caltesting.org" { type master; file "master/internal/law.caltesting.org_internal.zone"; notify yes; notify-source 10.11.12.1; also-notify { 10.10.1.11; 10.10.1.6  ; }; allow-transfer { 10.11.128.1; 10.10.1.6; 10.10.1.11;  }; allow-update {none; }; };
	zone "mn.caltesting.org" { type master; file "master/internal/mn.caltesting.org_internal.zone"; notify yes; notify-source 10.11.12.1; also-notify { 10.10.1.11; 10.10.1.6  ; }; allow-transfer { 10.11.128.1; 10.10.1.6; 10.10.1.11;  }; allow-update {none; }; };
	zone "support.caltesting.org" { type master; file "master/internal/support.caltesting.org_internal.zone"; notify yes; notify-source 10.11.12.1; also-notify { 10.11.128.1; 10.10.1.11; 10.10.1.6  ; }; allow-transfer { 10.10.1.6; 10.10.1.11;  }; allow-update {none; }; };
	zone "t.caltesting.org" { type master; file "master/internal/t.caltesting.org.zone"; notify yes; allow-update { none; }; };
	zone "caltesting.net" { type master; file "master/internal/caltesting.net_internal.zone"; notify yes; notify-source 10.11.12.1; also-notify { 10.11.128.1; 10.10.1.11; 10.10.1.6  ; }; allow-transfer { 10.10.1.6; 10.10.1.11;  }; allow-update {none; }; };
	include "/etc/named.d/inverse_zones";
};
